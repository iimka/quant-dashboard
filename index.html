<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>交易儀表板</title>
  <!-- 引入 Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h2>每日損益曲線</h2>
  <canvas id="pnlChart" width="800" height="400"></canvas>

  <script>
    // 動態加載 JSON 數據
    async function loadChartData() {
      try {
        const response = await fetch("https://raw.githubusercontent.com/你的GitHub名/quant-dashboard/main/data.json");
        const data = await response.json();
        
        // 轉換日期格式
        const labels = data.map(d => new Date(d.date).toLocaleDateString('zh-TW', {year: 'numeric', month: 'short'}));
        const values = data.map(d => d.pnl);

        // 創建圖表
        new Chart(document.getElementById('pnlChart'), {
          type: 'line',
          data: {
            labels: labels,
            datasets: [{
              label: '每日損益',
              data: values,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: { position: 'top' },
              title: {
                display: true,
                text: '2025年交易績效追蹤'
              }
            }
          }
        });
      } catch (error) {
        console.error('數據加載失敗:', error);
      }
    }
    // 頁面載入後執行
    window.onload = loadChartData;
  </script>
</body>
</html>
